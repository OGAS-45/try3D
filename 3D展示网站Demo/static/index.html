<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Mini-Kujiale</title>
    <!-- 提前 model-viewer 的元数据设置 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <h1>Mini-Kujiale API is running</h1>
    
    <!-- 添加错误显示和加载状态 -->
    <model-viewer 
        src="/static/models/gym.glb" 
        auto-rotate 
        camera-controls 
        style="width:100%;height:500px;border:1px solid #ccc;"
        alt="3D模型"
        poster="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'%3E%3Crect width='400' height='300' fill='%23f0f0f0'/%3E%3Ctext x='200' y='150' font-family='Arial' font-size='16' text-anchor='middle' fill='%23666'%3E加载模型中...%3C/text%3E%3C/svg%3E"
        error-message="无法加载模型，请检查文件路径和格式">
    </model-viewer>

    <!-- 修复脚本引入，移除多余空格 -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

    <script>
        // 检查模型加载状态的脚本
        document.querySelector('model-viewer').addEventListener('load', () => {
            console.log('模型加载成功');
        });

        document.querySelector('model-viewer').addEventListener('error', (e) => {
            console.error('模型加载错误:', e);
        });
    </script>
</body>
</html>
